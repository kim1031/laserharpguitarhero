     <meta charset="utf-8" emacsmode="-*- markdown -*-"><link rel="stylesheet" href="https://casual-effects.com/markdeep/latest/slate.css?">

                        **Laser Harp Guitar Hero**
                                 Team 77
            Julia Gonik, Tiffany Huang, Hyunji Kim, and Joie Le


Overview
==============================================================

<!-- The overall goal of our project was to create a modified version of the game, Guitar Hero. Instead of pressing buttons on a guitar-shaped game controller, we made a harp with lasers simulating strings such that you 'pluck' a laser to play a note and win points, as shown below. By 'plucking' lasers, users will be able to input their name, choose songs to play, and play the game itself. Once the song ends, scores for the song will be stored in a database (with entries of user, song, and score). The user can access leaderboards on the ESP32 filtering by song. Songs and their corresponding notes will also be stored in a separate table in the database. -->
One of our favorite childhood games is Guitar Hero. One day, while reminiscing about the carefree joys of youth, we decided that there was no better way to pay homage to a classic video game like Guitar Hero than to recreate it with an EECS embedded systems twist. Thus, Laser Harp Guitar Hero was born. Instead of pressing buttons and strumming on a contrived, cliche guitar-shaped game controller, users break lasers in order to "pluck" the laser harp and play notes. Players choose from a plethora of songs, including classic Guitar Hero songs in addition to some of our present-day favorites. The user earns a score based on how well they pluck the notes at the appropriate times, and the system keeps track of the user's name and scores in a server-side database that contains leaderboards for each song. Challenge your friends and determine the true laser harp master!

!!!!!include a video or photo. 

System Design
==============================================================

Hardware
--------------------------------------------------------------
- 1 ESP32 Microcontroller
- 1 Breadboard
- 1 Micro USB Cable
- 1 Adafruit 5.0" 40-pin TFT Display: 800x480 pixels
- 1 RA8875 Driver Board for 40-pin TFT Touch Displays
- 1 Adafruit 3" Diameter Speaker (4 Ohm 3 Watt)
- 1 DFPlayer Mini MP3 Player
- 1 Micro SD Card
- 4 LEDs (1 green, 1 red, 1 yellow, and 1 blue)
- 4 Lasers
- 4 Phototransistors
- 8 4.7 kÎ© Resistors
- 4 12" blocks of wood
- 1 12" x 12" block of acrylic
- Wires of various lengths

The 5.0" 40-pin TFT Display along with the driver board for 40-pin TFT Touch Display was used to allow the users to better see which notes to play. The Speaker, MP3 Player, and Micro SD Card was used to play the music. Lasers, phototransistors, and resistors were used to simulate the laser string for the harp. Rest of the material, LEDs, a power board, blocks of wood, and acrylic was used to make the frame for the harp and to make the game more user friendly.

Wiring Schematic
--------------------------------------------------------------


State Machine Block Diagram
--------------------------------------------------------------


Functional Block Diagram
--------------------------------------------------------------


Harp Code
==============================================================

example for how to write code nicely
```````````````````````````````````````````````
count_lines () {
  local f=$1  
  local m
  m=`wc -l $f | sed 's/^\([0-9]*\).*$/\1/'`
  return $m
}
```````````````````````````````````````````````

[Link to nowhere](nowhere). -- link all python files this way


Harp Frame
==============================================================
To create a rectangular frame, 4 blocks of wood was used. On the top and bottom pieces of wood, 4 pairs of holes were drilled spaced evenly such that each pair of holes would align vertically with each other. On the top holes, lasers were put in and photoresistors were put in on the bottom. LED holes were made perpendicular to the holes made for lasers on the top piece of wood such that once the LEDs are put in, the user sitting at the front will be able to see them.

To allow the user to have view of the screen and mount the speaker, a piece of acrylic was used. From a rectangular piece of acrylic, two pieces, a rectangle big enough to show the screen and a circle to fit the speaker was cut out to create a design shown as below:

A 3D printed screen holder was used to secure the screen to acrylic. The design of the screen holder is as shown below:


Decision Making and Challenges
==============================================================

Hardware Design
--------------------------------------------------------------
Since numerous functionalities in the game depend on being able to detect whether a laser is broken or not, it was crucial that the laser pointed exactly at its corresponding photoresistor and stayed that way even if we moved. After trying to make holes straight and exactly the size of a laser as well as trying to use tape to hold the laser and phototransistor together, we ultimately decided to adjust the parts, initialize hold it in place with tape, and also used hot glue to further stabilize such conformation.

The Wiring
--------------------------------------------------------------
Having to connect so many wires to the breadboard specifically for the LEDs, lasers, and phototransistors, the wiring often became very messy and it was difficult to find out whether the wiring was done incorrectly or if a wire had been accidently taken out, not to mention the numerous times in which the wires broke. 

In order to prevent such difficulties, we color-coded wires and twisted pairs of wires that go to the same piece. Wires for similar pieces were then also grouped together using tape and zip ties. For lasers, white wires went to power and black wires went to ground. For each 'string,' we attributed different colors, green, red, yellow, and blue, which we represented with LEDs. Wires for the phototransistors were hence set such that white wires always go to power and the wire that goes to the ESP32 is the same as the color it is assigned. Finally, for the LEDs, black wires were used to go to power and accordingly colored wires went to the ESP32. 

Screen and Speaker
--------------------------------------------------------------



Energy Management
==============================================================




 
<style class="fallback">body{visibility:hidden}</style><script>markdeepOptions={tocStyle:'long'};</script>
<!-- Markdeep: --><script src="https://casual-effects.com/markdeep/latest/markdeep.min.js?" charset="utf-8"></script>
